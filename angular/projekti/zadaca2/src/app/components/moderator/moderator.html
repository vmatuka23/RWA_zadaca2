<div class="kontejner-moderator">
  <h2>Moderatorska ploča</h2>
  <p>Dobro došli na moderatorsku ploču. Ovdje možete upravljati sadržajem i korisnicima.</p>

  <div class="sekcije">
    <section>
      <h3>Statistika</h3>
      <p>Ukupno kolekcija: {{ totalCollections() }}</p>
      <p>Ukupno multimedijskih datoteka: {{ totalMultimedia() }}</p>
    </section>
  </div>

  @if (collections().length > 0) {
    <div class="lista-kolekcija">
      <h3>Kolekcije</h3>
      <table>
        <thead>
          <tr>
            <th>Naziv</th>
            <th>Status</th>
            <th>Akcije</th>
          </tr>
        </thead>
        <tbody>
          @for (collection of collections(); track collection.id) {
            <tr>
              <td>
                <strong>{{ collection.naziv }}</strong>
              </td>
              <td>{{ collection.javno ? 'Javna' : 'Privatna' }}</td>
              <td>
                <button (click)="togglePublic(collection)">
                  {{ collection.javno ? 'Postavi privatnu' : 'Postavi javnu' }}
                </button>
                <button (click)="deleteCollection(collection.id!)" class="gumb-obrisi">
                  Obriši
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <div class="dodaj-korisnika">
      <h3>Dodaj korisnika u kolekciju</h3>
      <div class="forma">
        <label>
          Kolekcija:
          <select [(ngModel)]="selectedCollectionId">
            <option [value]="null">-- Odaberi kolekciju --</option>
            @for (collection of collections(); track collection.id) {
              <option [value]="collection.id">{{ collection.naziv }}</option>
            }
          </select>
        </label>

        <label>
          Korisnik:
          <select [(ngModel)]="selectedUserId">
            <option [value]="null">-- Odaberi korisnika --</option>
            @for (user of users(); track user.id) {
              <option [value]="user.id">{{ user.korisnickoIme }}</option>
            }
          </select>
        </label>

        <button (click)="addUserToCollection()">Dodaj</button>
      </div>
    </div>
  }
</div>
